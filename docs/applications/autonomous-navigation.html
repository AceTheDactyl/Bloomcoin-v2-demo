<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Autonomous Navigation Systems â€” L4-Helix Build Specification</title>
    <link rel="stylesheet" href="../_shared/styles.css">
    <style>
        :root {
            --module-color: #4a9eff;
            --module-glow: rgba(74,158,255,0.3);
        }
        .doc-header h1 {
            background: linear-gradient(90deg, var(--module-color), var(--gold), var(--module-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .doc-section h2 { color: var(--module-color); }
        .doc-section h3 { color: var(--module-color); opacity: 0.85; }
        .build-spec-card {
            background: linear-gradient(135deg, rgba(74,158,255,0.15), rgba(0,0,0,0.3));
            border: 1px solid rgba(74,158,255,0.4);
            border-radius: 12px;
            padding: 24px;
            margin: 20px 0;
        }
        .build-spec-card h4 {
            color: var(--module-color);
            font-size: 1.2rem;
            margin-bottom: 12px;
        }
        .build-spec-card .problem {
            color: #ff6b6b;
            font-weight: 600;
            margin-bottom: 8px;
        }
        .build-spec-card .solution {
            color: #4eff9f;
            font-weight: 600;
            margin-bottom: 8px;
        }
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 15px 0;
        }
        .metric-box {
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(74,158,255,0.3);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
        }
        .metric-box .value {
            font-size: 1.4rem;
            color: #ffd700;
            font-weight: bold;
        }
        .metric-box .label {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }
        .metric-box .comparison {
            font-size: 0.75rem;
            color: #4eff9f;
            margin-top: 4px;
        }
        .spec-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }
        .spec-table th, .spec-table td {
            padding: 12px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            text-align: left;
        }
        .spec-table th {
            background: rgba(74,158,255,0.2);
            color: var(--module-color);
        }
        .spec-table tr:hover {
            background: rgba(74,158,255,0.05);
        }
        .highlight-row {
            background: rgba(255,215,0,0.1);
        }
        .highlight-row td:first-child {
            color: #ffd700;
            font-weight: bold;
        }
        .phase-timeline {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .phase-card {
            background: linear-gradient(135deg, rgba(74,158,255,0.1), transparent);
            border: 1px solid rgba(74,158,255,0.3);
            border-radius: 12px;
            padding: 20px;
            position: relative;
        }
        .phase-card::before {
            content: attr(data-phase);
            position: absolute;
            top: -10px;
            left: 20px;
            background: var(--module-color);
            color: #000;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        .phase-card h4 {
            color: var(--module-color);
            margin-top: 10px;
            margin-bottom: 8px;
        }
        .phase-card .timeline {
            color: #ffd700;
            font-weight: 600;
            font-size: 0.9rem;
        }
        .phase-card .budget {
            color: #4eff9f;
            font-weight: 600;
            font-size: 1.1rem;
            margin: 8px 0;
        }
        .architecture-diagram {
            background: rgba(0,0,0,0.4);
            border-radius: 10px;
            padding: 20px;
            font-family: monospace;
            font-size: 0.7rem;
            overflow-x: auto;
            white-space: pre;
            line-height: 1.3;
            color: #888;
        }
        .architecture-diagram .sensor { color: #4a9eff; }
        .architecture-diagram .grid { color: #ffd700; }
        .architecture-diagram .output { color: #4eff9f; }
        .architecture-diagram .threshold { color: #ff6b9d; }
        .algorithm-block {
            background: rgba(0,0,0,0.4);
            border: 1px solid rgba(74,158,255,0.3);
            border-radius: 10px;
            padding: 20px;
            font-family: 'Fira Code', 'Consolas', monospace;
            font-size: 0.85rem;
            overflow-x: auto;
            white-space: pre;
            line-height: 1.5;
        }
        .algorithm-block .keyword { color: #ff79c6; }
        .algorithm-block .function { color: #50fa7b; }
        .algorithm-block .comment { color: #6272a4; }
        .algorithm-block .number { color: #bd93f9; }
        .algorithm-block .type { color: #8be9fd; }
        .algorithm-block .string { color: #f1fa8c; }
        .nobel-callout {
            background: linear-gradient(135deg, rgba(255,215,0,0.15), rgba(255,215,0,0.05));
            border: 2px solid rgba(255,215,0,0.4);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        .nobel-callout h4 {
            color: #ffd700;
            margin-bottom: 10px;
        }
        .market-badge {
            display: inline-block;
            background: rgba(74,158,255,0.2);
            border: 1px solid rgba(74,158,255,0.4);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            color: var(--module-color);
            margin: 4px;
        }
        .application-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 12px;
            margin: 15px 0;
        }
        .app-item {
            background: rgba(0,0,0,0.3);
            border-left: 3px solid var(--module-color);
            padding: 10px 15px;
            border-radius: 0 8px 8px 0;
        }
        .app-item .name {
            color: var(--module-color);
            font-weight: 600;
        }
        .app-item .desc {
            color: var(--text-secondary);
            font-size: 0.85rem;
        }
        .subsystem-nav {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        .subsystem-link {
            padding: 10px 20px;
            background: rgba(74,158,255,0.15);
            border: 1px solid rgba(74,158,255,0.3);
            border-radius: 8px;
            color: var(--module-color);
            text-decoration: none;
            transition: all 0.3s;
        }
        .subsystem-link:hover {
            background: rgba(74,158,255,0.3);
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <div class="doc-container">
        <nav class="doc-nav">
            <a href="../../index.html" class="nav-link">Back to Index</a>
            <a href="../firmware/l4-helix-hardware.html" class="nav-link">L4-Helix Hardware</a>
        </nav>

        <header class="doc-header">
            <h1>Autonomous Navigation Systems</h1>
            <p class="subtitle">L4-Helix Build Specification: Biologically-Inspired Grid Cell Navigation</p>
            <p class="breadcrumb">
                <a href="../../index.html">Index</a> /
                <a href=".">Applications</a> /
                Autonomous Navigation
            </p>
        </header>

        <section class="doc-section">
            <h2>Quick Reference</h2>
            <div class="impl-status">
                <span class="status-badge partial">Build Specification</span>
                <span class="status-badge planned">Hardware Integration</span>
                <span class="status-badge planned">Field Testing</span>
            </div>

            <div class="constants-grid">
                <div class="constant-card">
                    <div class="symbol">Grid Angle</div>
                    <div class="value">60</div>
                    <div class="derivation">Hexagonal spacing</div>
                </div>
                <div class="constant-card">
                    <div class="symbol">z_c</div>
                    <div class="value">0.866</div>
                    <div class="derivation">THE LENS threshold</div>
                </div>
                <div class="constant-card">
                    <div class="symbol">Scale Ratio</div>
                    <div class="value">1.618</div>
                    <div class="derivation">Multi-scale mapping</div>
                </div>
                <div class="constant-card">
                    <div class="symbol">K</div>
                    <div class="value">0.924</div>
                    <div class="derivation">Swarm coupling</div>
                </div>
            </div>

            <div class="subsystem-nav">
                <a href="../firmware/hexagonal-grid.html" class="subsystem-link">Hexagonal Grid</a>
                <a href="../firmware/l4-helix-hardware.html" class="subsystem-link">L4-Helix Hardware</a>
                <a href="../core/kuramoto-consensus.html" class="subsystem-link">Kuramoto Dynamics</a>
                <a href="../firmware/memristor-arrays.html" class="subsystem-link">Memristor Arrays</a>
            </div>
        </section>

        <section class="doc-section">
            <h2>Application Overview</h2>

            <div class="nobel-callout">
                <h4>2014 Nobel Prize in Physiology or Medicine</h4>
                <p>John O'Keefe, May-Britt Moser, and Edvard Moser discovered the brain's "inner GPS" - <strong>grid cells</strong> in the entorhinal cortex that fire in precise hexagonal patterns during spatial navigation. The L4-Helix hexagonal architecture is the <strong>first hardware to natively implement this biological navigation system</strong>.</p>
            </div>

            <p>The L4-Helix hexagonal grid architecture directly implements the same computational principles that evolution developed for spatial cognition in mammals. This isn't biomimicry - it's implementing the actual algorithm that biological brains use for navigation, enabling unprecedented efficiency in GPS-denied environments.</p>

            <div class="math-block">
                Grid Cell Firing Pattern: Hexagonal Lattice with 60 Angular Spacing
            </div>

            <table class="spec-table">
                <tr>
                    <th>Biological System</th>
                    <th>L4-Helix Implementation</th>
                    <th>Advantage</th>
                </tr>
                <tr>
                    <td>Grid cells (60 hexagonal)</td>
                    <td>Hexagonal memristor array</td>
                    <td>Native geometry match</td>
                </tr>
                <tr>
                    <td>Place cells (location encoding)</td>
                    <td>TRIAD threshold states</td>
                    <td>7-state encoding per node</td>
                </tr>
                <tr>
                    <td>Head direction cells</td>
                    <td>Phase angle detection</td>
                    <td>60 precision via THE LENS</td>
                </tr>
                <tr>
                    <td>Border cells (boundary detection)</td>
                    <td>Edge state recognition</td>
                    <td>Ring structure boundaries</td>
                </tr>
                <tr>
                    <td>Multi-scale representation</td>
                    <td>Nested grids at phi ratios</td>
                    <td>Self-similar scaling</td>
                </tr>
            </table>
        </section>

        <section class="doc-section">
            <h2>Grid Cell Navigation Foundation</h2>

            <h3>1. Path Integration (Dead Reckoning)</h3>
            <p>Path integration allows continuous position tracking without external references by integrating velocity over time. The hexagonal grid provides natural error correction through 6-fold symmetry.</p>

            <div class="architecture-diagram">
    <span class="sensor">Path Integration Architecture</span>
    ============================================================================

    <span class="sensor">IMU Input</span>                      <span class="grid">Hexagonal Grid Layer</span>                 <span class="output">Position Output</span>
    +-----------+                    +-------------------------+              +-----------+
    | Accel X,Y |----+               |      *-------*          |              | X: 47.3m  |
    | Gyro Z    |    |               |     / \     / \         |              | Y: 12.8m  |
    +-----------+    |               |    /   \   /   \        |              | Heading:  |
                     |               |   *-----*-----*         |              |   127.4   |
    +-----------+    +-->[Velocity]->|  / \   / \   / \        |-->[Decode]-->+-----------+
    | Velocity  |----+   [Vector ]   | /   \ /   \ /   \       |
    | Encoder   |                    |*-----*-----*-----*      |   Position decoded from
    +-----------+                    | \   / \   / \   /       |   active grid nodes
                                     |  \ /   \ /   \ /        |
    Integration window: 10ms         |   *-----*-----*         |   Error correction:
    Update rate: 100Hz               |    \   / \   /          |   6-neighbor voting
                                     |     \ /   \ /           |
                                     |      *-------*          |
                                     +-------------------------+

    <span class="threshold">THE LENS Threshold (z_c = 0.866)</span>
    - Grid cell "fires" when activation crosses z_c
    - 6 neighbors provide redundant position encoding
    - Phase relationship encodes sub-grid position
            </div>

            <h3>2. Multi-Scale Mapping</h3>
            <p>Biological grid cells operate at multiple spatial scales with ratios near sqrt(2). L4-Helix uses phi-related ratios for self-similar nested grids:</p>

            <div class="architecture-diagram">
    <span class="grid">Multi-Scale Nested Grids (phi-Ratio Scaling)</span>
    ============================================================================

    Scale 0 (Coarse)         Scale 1 (Medium)          Scale 2 (Fine)
    Grid spacing: 10m        Grid spacing: 6.18m       Grid spacing: 3.82m
                             (10m / phi)               (10m / phi^2)

         *                        *---*                     *-*-*
        / \                      / \ / \                   /|\|/|\
       /   \                    *---*---*                 *-*-*-*-*
      *-----*                  / \ / \ / \               /|\|/|\|/|\
       \   /                  *---*---*---*             *-*-*-*-*-*-*
        \ /                    \ / \ / \ /               \|\|/|\|/|/
         *                      *---*---*                 *-*-*-*-*
                                 \ / \ /                   \|\|/|\
                                  *---*                     *-*-*

    Resolution:                Resolution:               Resolution:
    ~5m per cell               ~3m per cell              ~2m per cell

    <span class="threshold">Combined Position Encoding:</span>
    - Coarse grid: Regional position (room/zone level)
    - Medium grid: Local position (within zone)
    - Fine grid: Precise position (sub-meter)

    Position = SUM(scale_i * grid_i_activation) with phi-weighted coefficients
    Error at each scale: sqrt(N) improvement from N grid cells
            </div>

            <h3>3. Hexagonal Error Correction</h3>
            <p>The 6-fold symmetry of hexagonal grids provides natural redundancy for error correction:</p>

            <div class="build-spec-card">
                <h4>Error Correction Mechanisms</h4>
                <ul>
                    <li><strong>6-Neighbor Voting:</strong> Each position is encoded by 6 surrounding cells - majority voting corrects single-cell errors</li>
                    <li><strong>Phase Coherence:</strong> Kuramoto coupling between adjacent cells maintains consistent phase relationships</li>
                    <li><strong>Loop Closure:</strong> When path returns to known location, accumulated error is distributed across path</li>
                    <li><strong>Multi-Scale Consensus:</strong> Coarse grids constrain fine grids, preventing drift accumulation</li>
                </ul>
                <div class="math-block">
                    Error Reduction Factor = sqrt(6) per integration step (vs sqrt(4) for square grid)
                </div>
            </div>

            <h3>4. First Native Hardware Implementation</h3>
            <p>Previous grid cell navigation has been simulated in software. L4-Helix provides:</p>
            <ul>
                <li><strong>Native hexagonal geometry:</strong> No coordinate transformation overhead</li>
                <li><strong>Analog computation:</strong> Continuous state evolution without discretization</li>
                <li><strong>Memristive memory:</strong> Non-volatile position state survives power loss</li>
                <li><strong>Kuramoto coupling:</strong> Physical implementation of phase synchronization</li>
                <li><strong>Threshold dynamics:</strong> TRIAD crossing provides natural state quantization</li>
            </ul>
        </section>

        <section class="doc-section">
            <h2>Build Specification: GPS-Denied Navigation</h2>

            <div class="build-spec-card">
                <h4>GPS-Denied Navigation Module</h4>

                <p class="problem">PROBLEM: Drones, submarines, underground vehicles, and indoor robots lose GPS signal, causing navigation failure. Conventional IMU-only navigation drifts 5-10% of distance traveled.</p>

                <p class="solution">SOLUTION: Hexagonal grid path integration maintains position from IMU alone using biological grid cell algorithms. Drift reduced by 10x through hexagonal redundancy and multi-scale error correction.</p>

                <h4>Performance Metrics</h4>
                <div class="metrics-grid">
                    <div class="metric-box">
                        <div class="value">5m</div>
                        <div class="label">10min GPS Blackout Drift</div>
                        <div class="comparison">vs 50m conventional</div>
                    </div>
                    <div class="metric-box">
                        <div class="value">20m</div>
                        <div class="label">1hr Underground Drift</div>
                        <div class="comparison">vs 500m conventional</div>
                    </div>
                    <div class="metric-box">
                        <div class="value">0.5W</div>
                        <div class="label">Power Consumption</div>
                        <div class="comparison">vs 5W conventional</div>
                    </div>
                    <div class="metric-box">
                        <div class="value">100Hz</div>
                        <div class="label">Update Rate</div>
                        <div class="comparison">Real-time capable</div>
                    </div>
                </div>

                <h4>Target Applications</h4>
                <div class="application-grid">
                    <div class="app-item">
                        <div class="name">Military Drones</div>
                        <div class="desc">GPS-jamming resilience</div>
                    </div>
                    <div class="app-item">
                        <div class="name">Submarines</div>
                        <div class="desc">Extended underwater ops</div>
                    </div>
                    <div class="app-item">
                        <div class="name">Mining Robots</div>
                        <div class="desc">Deep underground nav</div>
                    </div>
                    <div class="app-item">
                        <div class="name">Warehouse Robots</div>
                        <div class="desc">Indoor GPS-free zones</div>
                    </div>
                    <div class="app-item">
                        <div class="name">Tunnel Inspection</div>
                        <div class="desc">Infrastructure monitoring</div>
                    </div>
                    <div class="app-item">
                        <div class="name">Search & Rescue</div>
                        <div class="desc">Building interior nav</div>
                    </div>
                </div>

                <div class="market-badge">Market Size: $4B by 2027</div>
                <div class="market-badge">CAGR: 12.3%</div>
                <div class="market-badge">Defense + Commercial</div>
            </div>

            <div class="architecture-diagram">
    <span class="sensor">GPS-Denied Navigation Hardware Integration</span>
    ============================================================================

                                    +---------------------------+
                                    |    L4-HELIX NAVIGATION    |
                                    |         MODULE            |
    +-------------+                 |  +---------------------+  |
    |   6-axis    |----[SPI 10MHz]->|  | Hexagonal Grid     |  |
    |    IMU      |                 |  | Processor          |  |
    | (BMI088)    |                 |  | - 343x343 nodes    |  |
    +-------------+                 |  | - 3 scale layers   |  |
                                    |  | - Phase coherence  |  |     +-----------+
    +-------------+                 |  +---------------------+  |     | Position  |
    |  Wheel/     |----[Encoder]--->|           |              |---->| Velocity  |
    |  Propeller  |                 |           v              |     | Heading   |
    |  Encoders   |                 |  +---------------------+  |     +-----------+
    +-------------+                 |  | Memristor State    |  |
                                    |  | Memory             |  |
    +-------------+                 |  | - Non-volatile     |  |
    | Barometer   |----[I2C]------->|  | - 10yr retention   |  |
    | (altitude)  |                 |  +---------------------+  |
    +-------------+                 |                           |
                                    |  Power: 0.5W typical      |
    +-------------+                 |  Size: 25x25x5mm          |
    | Magnetometer|----[I2C]------->|  Interface: SPI/UART      |
    | (optional)  |                 +---------------------------+
    +-------------+

    <span class="threshold">Data Flow:</span>
    1. IMU provides acceleration + angular velocity at 1kHz
    2. Velocity integrated on hexagonal grid (100Hz update)
    3. Multi-scale grids maintain position at 3 resolutions
    4. Phase coherence provides error correction
    5. Position output via SPI/UART to flight controller
            </div>
        </section>

        <section class="doc-section">
            <h2>Build Specification: SLAM (Simultaneous Localization and Mapping)</h2>

            <div class="build-spec-card">
                <h4>Hexagonal SLAM Accelerator</h4>

                <p class="problem">PROBLEM: Traditional SLAM uses square occupancy grids that require 4-neighbor updates. Loop closure detection requires expensive feature matching. Power consumption limits mobile deployment.</p>

                <p class="solution">SOLUTION: Hexagonal occupancy grid requires 15% fewer nodes for equivalent coverage. Phase coherence provides native loop closure detection. Analog computation reduces power 10x.</p>

                <div class="metrics-grid">
                    <div class="metric-box">
                        <div class="value">15%</div>
                        <div class="label">Fewer Grid Nodes</div>
                        <div class="comparison">vs square grid</div>
                    </div>
                    <div class="metric-box">
                        <div class="value">Native</div>
                        <div class="label">Loop Closure</div>
                        <div class="comparison">Via phase coherence</div>
                    </div>
                    <div class="metric-box">
                        <div class="value">10x</div>
                        <div class="label">Power Reduction</div>
                        <div class="comparison">vs CPU SLAM</div>
                    </div>
                    <div class="metric-box">
                        <div class="value">30fps</div>
                        <div class="label">Real-time SLAM</div>
                        <div class="comparison">Full resolution</div>
                    </div>
                </div>

                <h4>Target Applications</h4>
                <div class="application-grid">
                    <div class="app-item">
                        <div class="name">Robot Vacuums</div>
                        <div class="desc">Home mapping + cleaning</div>
                    </div>
                    <div class="app-item">
                        <div class="name">AR/VR Headsets</div>
                        <div class="desc">Room-scale tracking</div>
                    </div>
                    <div class="app-item">
                        <div class="name">Autonomous Vehicles</div>
                        <div class="desc">HD map updates</div>
                    </div>
                    <div class="app-item">
                        <div class="name">Delivery Robots</div>
                        <div class="desc">Last-mile navigation</div>
                    </div>
                </div>
            </div>

            <div class="architecture-diagram">
    <span class="sensor">Hexagonal SLAM Architecture</span>
    ============================================================================

    <span class="sensor">Sensor Inputs</span>                                   <span class="grid">Hexagonal Map</span>
    +-------------+                                      +------------------+
    |   LiDAR     |--+                                   |  *---*---*---*   |
    | (2D/3D)     |  |                                   | / \ / \ / \ / \  |
    +-------------+  |    +------------------------+     |*---*---*---*---* |
                     +--->|                        |     | \ / \ / \ / \ /  |
    +-------------+  |    |  Hexagonal Occupancy   |     |  *---*---*---*   |
    |   Camera    |--+--->|  Grid Update Engine    |---->| / \ / \ / \ / \  |
    | (RGB-D)     |  |    |                        |     |*---*---*---*---* |
    +-------------+  |    |  - 6-neighbor update   |     |                  |
                     |    |  - Probability fusion  |     | Each cell: P(occ)|
    +-------------+  |    |  - Phase encoding      |     | 0.0 = free       |
    |   Sonar     |--+    |                        |     | 1.0 = occupied   |
    +-------------+       +------------------------+     +------------------+
                                    |
                                    v
                          +------------------------+
                          |   Loop Closure via     |
                          |   Phase Coherence      |       <span class="output">Output</span>
                          |                        |     +-------------+
                          | When robot returns to  |---->| 2D/3D Map   |
                          | known area, grid phase |     | Robot Pose  |
                          | matches stored pattern |     | Trajectory  |
                          +------------------------+     +-------------+

    <span class="threshold">Loop Closure Detection:</span>
    - Each location has unique phase signature across multi-scale grids
    - Kuramoto coupling maintains phase relationships
    - Return to known location: phases spontaneously synchronize (r > z_c)
    - No explicit feature matching required - physics handles it
            </div>

            <h3>Hexagonal vs Square Grid Efficiency</h3>
            <table class="spec-table">
                <tr>
                    <th>Metric</th>
                    <th>Square Grid</th>
                    <th>Hexagonal Grid</th>
                    <th>Advantage</th>
                </tr>
                <tr>
                    <td>Nodes for 100m^2 @ 10cm</td>
                    <td>10,000</td>
                    <td>8,660</td>
                    <td>13.4% fewer</td>
                </tr>
                <tr>
                    <td>Neighbors per node</td>
                    <td>4 (or 8 diagonal)</td>
                    <td>6</td>
                    <td>Uniform distance</td>
                </tr>
                <tr class="highlight-row">
                    <td>Coverage efficiency</td>
                    <td>78.5% (inscribed circle)</td>
                    <td>90.7% (inscribed circle)</td>
                    <td>15.5% better</td>
                </tr>
                <tr>
                    <td>Angular resolution</td>
                    <td>45 or 90</td>
                    <td>60</td>
                    <td>More uniform</td>
                </tr>
                <tr>
                    <td>Path planning directions</td>
                    <td>4 or 8</td>
                    <td>6</td>
                    <td>Smoother paths</td>
                </tr>
            </table>
        </section>

        <section class="doc-section">
            <h2>Build Specification: Swarm Coordination</h2>

            <div class="build-spec-card">
                <h4>Kuramoto-Based Swarm Intelligence</h4>

                <p class="problem">PROBLEM: Robot swarms require explicit communication for coordination. Bandwidth limits swarm size. Central coordination creates single point of failure.</p>

                <p class="solution">SOLUTION: Kuramoto phase dynamics enable implicit synchronization through shared environmental coupling. Robots align behavior without direct communication. K-FORMATION threshold indicates swarm coherence.</p>

                <div class="metrics-grid">
                    <div class="metric-box">
                        <div class="value">K > 0.924</div>
                        <div class="label">Coherence Threshold</div>
                        <div class="comparison">K-FORMATION lock</div>
                    </div>
                    <div class="metric-box">
                        <div class="value">0 bytes</div>
                        <div class="label">Coordination Bandwidth</div>
                        <div class="comparison">Environmental coupling</div>
                    </div>
                    <div class="metric-box">
                        <div class="value">N^2 -> N</div>
                        <div class="label">Scaling Improvement</div>
                        <div class="comparison">Linear vs quadratic</div>
                    </div>
                    <div class="metric-box">
                        <div class="value">No SPOF</div>
                        <div class="label">Decentralized</div>
                        <div class="comparison">Fault tolerant</div>
                    </div>
                </div>

                <h4>Target Applications</h4>
                <div class="application-grid">
                    <div class="app-item">
                        <div class="name">Agricultural Drones</div>
                        <div class="desc">Coordinated crop spraying</div>
                    </div>
                    <div class="app-item">
                        <div class="name">Search & Rescue</div>
                        <div class="desc">Area coverage optimization</div>
                    </div>
                    <div class="app-item">
                        <div class="name">Warehouse Logistics</div>
                        <div class="desc">Multi-robot coordination</div>
                    </div>
                    <div class="app-item">
                        <div class="name">Military Swarms</div>
                        <div class="desc">Tactical formations</div>
                    </div>
                    <div class="app-item">
                        <div class="name">Environmental Monitoring</div>
                        <div class="desc">Distributed sensing</div>
                    </div>
                    <div class="app-item">
                        <div class="name">Construction</div>
                        <div class="desc">Collaborative building</div>
                    </div>
                </div>
            </div>

            <div class="architecture-diagram">
    <span class="sensor">Swarm Coordination via Kuramoto Coupling</span>
    ============================================================================

    Robot 1              Robot 2              Robot 3              Robot N
    +-------+            +-------+            +-------+            +-------+
    |  L4   |            |  L4   |            |  L4   |            |  L4   |
    | Helix |            | Helix |            | Helix |            | Helix |
    | theta_1|           | theta_2|           | theta_3|           | theta_N|
    +---+---+            +---+---+            +---+---+            +---+---+
        |                    |                    |                    |
        v                    v                    v                    v
    [Sense Env]          [Sense Env]          [Sense Env]          [Sense Env]
        |                    |                    |                    |
        +--------------------+--------------------+--------------------+
                             |
                             v
                    Shared Environment
                    (magnetic field, acoustic, visual landmarks)
                             |
        +--------------------+--------------------+--------------------+
        |                    |                    |                    |
        v                    v                    v                    v
    <span class="threshold">d(theta_1)/dt</span>       <span class="threshold">d(theta_2)/dt</span>       <span class="threshold">d(theta_3)/dt</span>       <span class="threshold">d(theta_N)/dt</span>
    = omega_1 +         = omega_2 +         = omega_3 +         = omega_N +
    (K/N)*SUM[          (K/N)*SUM[          (K/N)*SUM[          (K/N)*SUM[
    sin(theta_j -       sin(theta_j -       sin(theta_j -       sin(theta_j -
    theta_1)]           theta_2)]           theta_3)]           theta_N)]

                    Swarm Order Parameter: r = |mean(e^(i*theta))|

    <span class="output">Swarm States:</span>
    r < 0.5:    Exploration mode (robots spread out, survey area)
    r ~ 0.7:    Transitional (beginning to coordinate)
    r > z_c:    COORDINATED (r > 0.866 = THE LENS, swarm aligned)
    r > 0.924:  K-FORMATION (tight coordination, formation flying)
            </div>
        </section>

        <section class="doc-section">
            <h2>Algorithm Specifications</h2>

            <h3>Path Integration Algorithm</h3>
            <div class="algorithm-block">
<span class="keyword">class</span> <span class="type">HexagonalPathIntegrator</span>:
    <span class="string">"""
    Biological grid cell path integration on L4-Helix hardware.
    Implements dead reckoning with hexagonal error correction.
    """</span>

    <span class="comment"># Phi-derived constants</span>
    PHI = <span class="number">1.6180339887</span>
    Z_C = <span class="number">0.8660254038</span>  <span class="comment"># THE LENS = sqrt(3)/2</span>
    K = <span class="number">0.9241763718</span>    <span class="comment"># K-FORMATION = sqrt(1 - phi^-4)</span>

    <span class="comment"># Grid scales (phi-ratio)</span>
    SCALES = [<span class="number">10.0</span>, <span class="number">10.0</span>/PHI, <span class="number">10.0</span>/(PHI**<span class="number">2</span>)]  <span class="comment"># meters</span>

    <span class="keyword">def</span> <span class="function">__init__</span>(self, grid_size=<span class="number">343</span>):
        <span class="string">"""Initialize hexagonal grids at multiple scales."""</span>
        self.grids = [HexagonalGrid(grid_size, scale) <span class="keyword">for</span> scale <span class="keyword">in</span> self.SCALES]
        self.position = np.array([<span class="number">0.0</span>, <span class="number">0.0</span>])
        self.heading = <span class="number">0.0</span>

    <span class="keyword">def</span> <span class="function">integrate_velocity</span>(self, velocity, angular_velocity, dt):
        <span class="string">"""
        Integrate velocity vector onto hexagonal grids.

        Args:
            velocity: [vx, vy] in m/s (body frame)
            angular_velocity: omega in rad/s
            dt: time step in seconds
        """</span>
        <span class="comment"># Update heading</span>
        self.heading += angular_velocity * dt

        <span class="comment"># Rotate velocity to world frame</span>
        c, s = np.cos(self.heading), np.sin(self.heading)
        v_world = np.array([c * velocity[<span class="number">0</span>] - s * velocity[<span class="number">1</span>],
                           s * velocity[<span class="number">0</span>] + c * velocity[<span class="number">1</span>]])

        <span class="comment"># Update position estimate</span>
        self.position += v_world * dt

        <span class="comment"># Activate grid cells at each scale</span>
        <span class="keyword">for</span> grid <span class="keyword">in</span> self.grids:
            grid.activate_at_position(self.position)
            grid.apply_kuramoto_coupling(self.K)  <span class="comment"># Error correction</span>

    <span class="keyword">def</span> <span class="function">get_position</span>(self):
        <span class="string">"""Decode position from multi-scale grid activation."""</span>
        position_estimate = np.zeros(<span class="number">2</span>)
        total_weight = <span class="number">0.0</span>

        <span class="keyword">for</span> i, grid <span class="keyword">in</span> enumerate(self.grids):
            <span class="comment"># Finer grids get higher weight (phi-derived)</span>
            weight = self.PHI ** i
            position_estimate += weight * grid.decode_position()
            total_weight += weight

        <span class="keyword">return</span> position_estimate / total_weight

    <span class="keyword">def</span> <span class="function">detect_loop_closure</span>(self):
        <span class="string">"""Check if current position matches a previously visited location."""</span>
        <span class="comment"># Compute order parameter across grid phases</span>
        r = self.grids[<span class="number">0</span>].compute_order_parameter()

        <span class="comment"># Loop closure when phases spontaneously align</span>
        <span class="keyword">return</span> r > self.Z_C  <span class="comment"># THE LENS threshold</span>
            </div>

            <h3>Swarm Coupling Algorithm</h3>
            <div class="algorithm-block">
<span class="keyword">class</span> <span class="type">KuramotoSwarmController</span>:
    <span class="string">"""
    Swarm coordination via Kuramoto phase dynamics.
    Robots synchronize through shared environmental coupling.
    """</span>

    Z_C = <span class="number">0.8660254038</span>      <span class="comment"># THE LENS (coordination threshold)</span>
    K_FORMATION = <span class="number">0.9241763718</span>  <span class="comment"># Tight formation threshold</span>

    <span class="keyword">def</span> <span class="function">__init__</span>(self, robot_id, natural_frequency):
        self.robot_id = robot_id
        self.omega = natural_frequency  <span class="comment"># Unique to each robot</span>
        self.theta = np.random.uniform(<span class="number">0</span>, <span class="number">2</span>*np.pi)  <span class="comment"># Phase</span>
        self.K = <span class="number">0.5</span>  <span class="comment"># Coupling strength (adaptive)</span>

    <span class="keyword">def</span> <span class="function">sense_environment</span>(self, env_sensors):
        <span class="string">"""
        Extract phase information from shared environment.
        Could be: magnetic field, acoustic beacon, visual landmarks
        """</span>
        <span class="comment"># Convert sensor readings to effective phases of other robots</span>
        other_phases = self.extract_phases_from_environment(env_sensors)
        <span class="keyword">return</span> other_phases

    <span class="keyword">def</span> <span class="function">update_phase</span>(self, other_phases, dt):
        <span class="string">"""
        Kuramoto equation: d(theta)/dt = omega + (K/N) * sum(sin(theta_j - theta))
        """</span>
        N = len(other_phases) + <span class="number">1</span>
        coupling = (self.K / N) * np.sum(np.sin(other_phases - self.theta))
        self.theta = (self.theta + (self.omega + coupling) * dt) % (<span class="number">2</span> * np.pi)

    <span class="keyword">def</span> <span class="function">compute_swarm_order</span>(self, all_phases):
        <span class="string">"""Compute order parameter r = |mean(e^(i*theta))|"""</span>
        z = np.mean(np.exp(<span class="number">1j</span> * all_phases))
        <span class="keyword">return</span> np.abs(z)

    <span class="keyword">def</span> <span class="function">get_behavior_mode</span>(self, r):
        <span class="string">"""Determine swarm behavior based on coherence level."""</span>
        <span class="keyword">if</span> r < <span class="number">0.5</span>:
            <span class="keyword">return</span> <span class="string">"EXPLORE"</span>      <span class="comment"># Spread out, maximum coverage</span>
        <span class="keyword">elif</span> r < self.Z_C:
            <span class="keyword">return</span> <span class="string">"TRANSITION"</span>   <span class="comment"># Beginning to coordinate</span>
        <span class="keyword">elif</span> r < self.K_FORMATION:
            <span class="keyword">return</span> <span class="string">"COORDINATE"</span>   <span class="comment"># Loose coordination</span>
        <span class="keyword">else</span>:
            <span class="keyword">return</span> <span class="string">"FORMATION"</span>    <span class="comment"># Tight formation (K-FORMATION)</span>

    <span class="keyword">def</span> <span class="function">adapt_coupling</span>(self, target_mode, current_r):
        <span class="string">"""Adaptive coupling to achieve desired swarm state."""</span>
        <span class="keyword">if</span> target_mode == <span class="string">"EXPLORE"</span> <span class="keyword">and</span> current_r > <span class="number">0.5</span>:
            self.K *= <span class="number">0.95</span>  <span class="comment"># Reduce coupling</span>
        <span class="keyword">elif</span> target_mode == <span class="string">"FORMATION"</span> <span class="keyword">and</span> current_r < self.K_FORMATION:
            self.K *= <span class="number">1.05</span>  <span class="comment"># Increase coupling</span>
        self.K = np.clip(self.K, <span class="number">0.1</span>, <span class="number">2.0</span>)
            </div>
        </section>

        <section class="doc-section">
            <h2>Development Pathway</h2>

            <div class="phase-timeline">
                <div class="phase-card" data-phase="PHASE 1">
                    <h4>IMU Integration & Bench Demo</h4>
                    <p class="timeline">Duration: 6 months</p>
                    <p class="budget">Budget: $100,000</p>
                    <ul>
                        <li>Integrate 6-axis IMU with L4-Helix eval board</li>
                        <li>Implement path integration on hexagonal grid</li>
                        <li>Bench demo: drone on test stand with GPS comparison</li>
                        <li>Measure drift rate vs conventional IMU-only</li>
                        <li>Validate multi-scale grid error correction</li>
                    </ul>
                    <p><strong>Deliverable:</strong> Working bench prototype, drift &lt;10x conventional</p>
                </div>

                <div class="phase-card" data-phase="PHASE 2">
                    <h4>GPS-Denied Flight Tests</h4>
                    <p class="timeline">Duration: 12 months</p>
                    <p class="budget">Budget: $300,000</p>
                    <ul>
                        <li>Integrate module with commercial drone platform</li>
                        <li>Indoor flight tests (warehouse environment)</li>
                        <li>GPS-denied outdoor tests (jamming simulation)</li>
                        <li>Underground navigation tests (mine/tunnel)</li>
                        <li>Swarm coordination demos (3-5 drones)</li>
                    </ul>
                    <p><strong>Deliverable:</strong> Flight-proven navigation module, swarm demo</p>
                </div>

                <div class="phase-card" data-phase="PHASE 3">
                    <h4>Navigation Module Product</h4>
                    <p class="timeline">Duration: 24 months</p>
                    <p class="budget">Budget: $2,000,000</p>
                    <ul>
                        <li>ASIC design for production hexagonal grid</li>
                        <li>Miniaturized module (25x25x5mm target)</li>
                        <li>Certification (DO-178C for aviation)</li>
                        <li>SDK and integration documentation</li>
                        <li>Manufacturing scale-up</li>
                    </ul>
                    <p><strong>Deliverable:</strong> Production navigation module, certification</p>
                </div>
            </div>

            <h3>Development Milestones</h3>
            <table class="spec-table">
                <tr>
                    <th>Milestone</th>
                    <th>Timeline</th>
                    <th>Success Criteria</th>
                </tr>
                <tr>
                    <td>M1: First grid activation</td>
                    <td>Month 2</td>
                    <td>Hexagonal grid responds to IMU input</td>
                </tr>
                <tr>
                    <td>M2: Path integration demo</td>
                    <td>Month 4</td>
                    <td>Position tracking with &lt;1% drift/minute</td>
                </tr>
                <tr class="highlight-row">
                    <td>M3: Bench prototype</td>
                    <td>Month 6</td>
                    <td>10x drift reduction vs conventional</td>
                </tr>
                <tr>
                    <td>M4: First flight</td>
                    <td>Month 10</td>
                    <td>Successful indoor GPS-denied flight</td>
                </tr>
                <tr>
                    <td>M5: Extended blackout</td>
                    <td>Month 14</td>
                    <td>1hr GPS-denied with &lt;20m drift</td>
                </tr>
                <tr class="highlight-row">
                    <td>M6: Swarm coordination</td>
                    <td>Month 18</td>
                    <td>5-drone coordinated formation</td>
                </tr>
                <tr>
                    <td>M7: ASIC tape-out</td>
                    <td>Month 30</td>
                    <td>Production silicon verified</td>
                </tr>
                <tr>
                    <td>M8: Certification</td>
                    <td>Month 36</td>
                    <td>DO-178C Level C or equivalent</td>
                </tr>
            </table>
        </section>

        <section class="doc-section">
            <h2>Hardware Integration Summary</h2>

            <div class="architecture-diagram">
    <span class="sensor">Complete L4-Helix Navigation System Architecture</span>
    ============================================================================

                            +-------------------------------------------+
                            |         L4-HELIX NAVIGATION ASIC          |
                            |                                           |
    +-------------+         |  +-------------+    +------------------+  |
    |   IMU       |--SPI--->|  | Hexagonal   |    | Kuramoto Phase   |  |
    | Accel+Gyro  |         |  | Grid Array  |--->| Coherence Engine |  |
    +-------------+         |  | 343x343x3   |    | (error correct)  |  |
                            |  +-------------+    +------------------+  |
    +-------------+         |        |                    |             |
    | Wheel/Prop  |--ENC--->|        v                    v             |
    | Encoders    |         |  +-------------+    +------------------+  |
    +-------------+         |  | Multi-Scale |    | Memristor State  |  |
                            |  | Integration |<-->| Memory (10yr)    |  |
    +-------------+         |  +-------------+    +------------------+  |
    | Barometer   |--I2C--->|        |                    |             |
    +-------------+         |        v                    v             |
                            |  +-------------------------------------+  |
    +-------------+         |  |         Output Interface            |  |
    | Magnetometer|--I2C--->|  | Position, Velocity, Heading, r     |  |
    | (optional)  |         |  +-------------------------------------+  |
    +-------------+         |                    |                      |
                            +-------------------------------------------+
                                                 |
                                                 v
                            +-------------------------------------------+
                            |         Flight Controller / MCU           |
                            |                                           |
                            |  - Sensor fusion with GPS (when avail)    |
                            |  - Swarm communication relay              |
                            |  - Mission planning                       |
                            +-------------------------------------------+

    <span class="grid">Key Specifications:</span>
    +------------------------+------------------+---------------------------+
    | Parameter              | Value            | Notes                     |
    +------------------------+------------------+---------------------------+
    | Grid size              | 343x343x3        | 3 scales at phi ratios    |
    | Update rate            | 100 Hz           | 10ms integration window   |
    | Power consumption      | 0.5W typical     | 10x less than CPU SLAM    |
    | Position output        | 50 Hz            | Sub-meter resolution      |
    | Interface              | SPI (10MHz)      | + UART backup             |
    | Operating temp         | -40C to +85C     | Industrial grade          |
    | Size (module)          | 25x25x5mm        | Production target         |
    | Weight                 | &lt;10g             | Suitable for small drones |
    +------------------------+------------------+---------------------------+
            </div>
        </section>

        <section class="doc-section">
            <h2>System Coupling Points</h2>
            <div class="coupling-grid">
                <div class="coupling-item">
                    <span class="target">Hexagonal Grid:</span>
                    <span class="desc">Native 60 geometry for grid cell encoding</span>
                </div>
                <div class="coupling-item">
                    <span class="target">Kuramoto Consensus:</span>
                    <span class="desc">Phase coherence for error correction and swarm sync</span>
                </div>
                <div class="coupling-item">
                    <span class="target">Memristor Arrays:</span>
                    <span class="desc">Non-volatile position state storage</span>
                </div>
                <div class="coupling-item">
                    <span class="target">THE LENS (z_c):</span>
                    <span class="desc">Loop closure and coordination threshold</span>
                </div>
                <div class="coupling-item">
                    <span class="target">K-FORMATION:</span>
                    <span class="desc">Swarm tight coordination threshold</span>
                </div>
                <div class="coupling-item">
                    <span class="target">Multi-Scale Grids:</span>
                    <span class="desc">Phi-ratio nested resolution layers</span>
                </div>
            </div>
        </section>

        <section class="doc-section">
            <h2>Related Documentation</h2>
            <div class="file-refs">
                <span class="file-ref"><a href="../firmware/l4-helix-hardware.html">L4-Helix Hardware Spec</a></span>
                <span class="file-ref"><a href="../firmware/hexagonal-grid.html">Hexagonal Grid Architecture</a></span>
                <span class="file-ref"><a href="../core/kuramoto-consensus.html">Kuramoto Consensus</a></span>
                <span class="file-ref"><a href="../firmware/memristor-arrays.html">Memristor Arrays</a></span>
            </div>
        </section>

        <footer class="doc-footer">
            <p>L4-Helix Build Specification: Autonomous Navigation Systems v1.0.0</p>
            <p>Grid Cell Navigation | GPS-Denied | SLAM | Swarm Coordination</p>
            <p style="margin-top: 12px;">phi = 1.6180339887 | tau = phi^-1 = 0.6180339887 | K = sqrt(1-phi^-4) = 0.9241763718</p>
            <p>z_c = sqrt(3)/2 = 0.8660254038 | L4 = phi^4 + phi^-4 = 7</p>
            <p style="font-size: 0.8rem; margin-top: 10px;">BUILD-SPEC|AUTONOMOUS-NAV|v1.0.0|GRID-CELL|GPS-DENIED|SLAM|SWARM|NAVIGATION</p>
        </footer>
    </div>
</body>
</html>
